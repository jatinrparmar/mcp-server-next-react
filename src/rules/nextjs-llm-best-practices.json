{
  "meta": {
    "framework": "Next.js",
    "version": "2025.1",
    "type": "best-practices",
    "intendedFor": [
      "MCP",
      "config-driven-analysis"
    ],
    "description": "Best practices for next-js generated from config",
    "generatedFrom": "config/simplified-best-practices.json",
    "autoGenerated": true
  },
  "bestPracticeRules": [
    {
      "id": "use-app-router",
      "title": "Prefer App Router over Pages Router",
      "intent": "best-practices rule: Use the new App Router (app/) for new projects. It supports React Server Components and improved data fetching.",
      "scope": "project",
      "severity": "medium",
      "enabled": true,
      "category": "best-practices",
      "detection": {
        "fileGlobs": [
          "package.json"
        ]
      },
      "recommendation": "Use the new App Router (app/) for new projects. It supports React Server Components and improved data fetching.",
      "codeExample": {
        "bad": "// pages/index.tsx with getServerSideProps",
        "good": "// app/page.tsx with Server Components"
      },
      "confidence": "medium",
      "falsePositives": "medium",
      "performanceImpact": "low",
      "easeOfRemediation": "medium",
      "detectionExplanation": "Detects prefer app router over pages router patterns in code to ensure compliance.",
      "remediationExplanation": "Fix this by: Use the new App Router (app/) for new projects. It supports React Server Components and improved data fetching.",
      "references": [],
      "relatedVulnerabilities": [],
      "detectionLimitations": "May not catch all instances in complex or obfuscated code.",
      "additionalNotes": "Keep dependencies updated and follow security best practices.",
      "examplesOfExploits": []
    },
    {
      "id": "server-components-default",
      "title": "Use Server Components by Default",
      "intent": "best-practices rule: Make components Server Components by default. Only add 'use client' when you need interactivity, hooks, or browser APIs.",
      "scope": "project",
      "severity": "high",
      "enabled": true,
      "category": "best-practices",
      "detection": {
        "fileGlobs": [
          "package.json"
        ]
      },
      "recommendation": "Make components Server Components by default. Only add 'use client' when you need interactivity, hooks, or browser APIs.",
      "codeExample": {
        "bad": "'use client'; export default function Page() { return <div>Static content</div>; }",
        "good": "export default function Page() { return <div>Static content</div>; } // Server Component"
      },
      "confidence": "high",
      "falsePositives": "low",
      "performanceImpact": "low",
      "easeOfRemediation": "medium",
      "detectionExplanation": "Detects use server components by default patterns in code to ensure compliance.",
      "remediationExplanation": "Fix this by: Make components Server Components by default. Only add 'use client' when you need interactivity, hooks, or browser APIs.",
      "references": [],
      "relatedVulnerabilities": [],
      "detectionLimitations": "May not catch all instances in complex or obfuscated code.",
      "additionalNotes": "Keep dependencies updated and follow security best practices.",
      "examplesOfExploits": []
    },
    {
      "id": "use-server-actions",
      "title": "Use Server Actions for Mutations",
      "intent": "best-practices rule: Use Server Actions instead of API routes for form submissions and mutations. They're more efficient and type-safe.",
      "scope": "project",
      "severity": "high",
      "enabled": true,
      "category": "best-practices",
      "detection": {
        "fileGlobs": [
          "package.json"
        ]
      },
      "recommendation": "Use Server Actions instead of API routes for form submissions and mutations. They're more efficient and type-safe.",
      "codeExample": {
        "bad": "// POST to /api/submit with fetch",
        "good": "'use server'; export async function submitForm(formData) { /* Server Action */ }"
      },
      "confidence": "high",
      "falsePositives": "low",
      "performanceImpact": "low",
      "easeOfRemediation": "medium",
      "detectionExplanation": "Detects use server actions for mutations patterns in code to ensure compliance.",
      "remediationExplanation": "Fix this by: Use Server Actions instead of API routes for form submissions and mutations. They're more efficient and type-safe.",
      "references": [],
      "relatedVulnerabilities": [],
      "detectionLimitations": "May not catch all instances in complex or obfuscated code.",
      "additionalNotes": "Keep dependencies updated and follow security best practices.",
      "examplesOfExploits": []
    },
    {
      "id": "avoid-use-effect-data-fetching",
      "title": "Avoid useEffect for Data Fetching",
      "intent": "best-practices rule: Fetch data in Server Components instead of useEffect. Use Suspense for loading states.",
      "scope": "project",
      "severity": "high",
      "enabled": true,
      "category": "best-practices",
      "detection": {
        "fileGlobs": [
          "package.json"
        ]
      },
      "recommendation": "Fetch data in Server Components instead of useEffect. Use Suspense for loading states.",
      "codeExample": {
        "bad": "'use client'; useEffect(() => { fetchData(); }, []);",
        "good": "// Server Component: const data = await fetchData();"
      },
      "confidence": "high",
      "falsePositives": "low",
      "performanceImpact": "low",
      "easeOfRemediation": "medium",
      "detectionExplanation": "Detects avoid useeffect for data fetching patterns in code to ensure compliance.",
      "remediationExplanation": "Fix this by: Fetch data in Server Components instead of useEffect. Use Suspense for loading states.",
      "references": [],
      "relatedVulnerabilities": [],
      "detectionLimitations": "May not catch all instances in complex or obfuscated code.",
      "additionalNotes": "Keep dependencies updated and follow security best practices.",
      "examplesOfExploits": []
    },
    {
      "id": "use-next-image",
      "title": "Use Next.js Image Component",
      "intent": "performance rule: Always use next/image instead of <img> for automatic optimization, lazy loading, and responsive images.",
      "scope": "project",
      "severity": "high",
      "enabled": true,
      "category": "performance",
      "detection": {
        "fileGlobs": [
          "package.json"
        ]
      },
      "recommendation": "Always use next/image instead of <img> for automatic optimization, lazy loading, and responsive images.",
      "codeExample": {
        "bad": "<img src='/photo.jpg' />",
        "good": "import Image from 'next/image'; <Image src='/photo.jpg' width={500} height={300} alt='...' />"
      },
      "confidence": "high",
      "falsePositives": "low",
      "performanceImpact": "low",
      "easeOfRemediation": "medium",
      "detectionExplanation": "Detects use next.js image component patterns in code to ensure compliance.",
      "remediationExplanation": "Fix this by: Always use next/image instead of <img> for automatic optimization, lazy loading, and responsive images.",
      "references": [],
      "relatedVulnerabilities": [],
      "detectionLimitations": "May not catch all instances in complex or obfuscated code.",
      "additionalNotes": "Keep dependencies updated and follow security best practices.",
      "examplesOfExploits": []
    },
    {
      "id": "use-next-link",
      "title": "Use Next.js Link Component",
      "intent": "performance rule: Use next/link for client-side navigation. It prefetches pages in the background for faster navigation.",
      "scope": "project",
      "severity": "medium",
      "enabled": true,
      "category": "performance",
      "detection": {
        "fileGlobs": [
          "package.json"
        ]
      },
      "recommendation": "Use next/link for client-side navigation. It prefetches pages in the background for faster navigation.",
      "codeExample": {
        "bad": "<a href='/about'>About</a>",
        "good": "import Link from 'next/link'; <Link href='/about'>About</Link>"
      },
      "confidence": "medium",
      "falsePositives": "medium",
      "performanceImpact": "low",
      "easeOfRemediation": "medium",
      "detectionExplanation": "Detects use next.js link component patterns in code to ensure compliance.",
      "remediationExplanation": "Fix this by: Use next/link for client-side navigation. It prefetches pages in the background for faster navigation.",
      "references": [],
      "relatedVulnerabilities": [],
      "detectionLimitations": "May not catch all instances in complex or obfuscated code.",
      "additionalNotes": "Keep dependencies updated and follow security best practices.",
      "examplesOfExploits": []
    },
    {
      "id": "dynamic-imports",
      "title": "Use Dynamic Imports for Code Splitting",
      "intent": "performance rule: Use dynamic imports with next/dynamic for components that aren't needed on initial render.",
      "scope": "project",
      "severity": "medium",
      "enabled": true,
      "category": "performance",
      "detection": {
        "fileGlobs": [
          "package.json"
        ]
      },
      "recommendation": "Use dynamic imports with next/dynamic for components that aren't needed on initial render.",
      "codeExample": {
        "bad": "import HeavyComponent from './HeavyComponent';",
        "good": "const HeavyComponent = dynamic(() => import('./HeavyComponent'));"
      },
      "confidence": "medium",
      "falsePositives": "medium",
      "performanceImpact": "low",
      "easeOfRemediation": "medium",
      "detectionExplanation": "Detects use dynamic imports for code splitting patterns in code to ensure compliance.",
      "remediationExplanation": "Fix this by: Use dynamic imports with next/dynamic for components that aren't needed on initial render.",
      "references": [],
      "relatedVulnerabilities": [],
      "detectionLimitations": "May not catch all instances in complex or obfuscated code.",
      "additionalNotes": "Keep dependencies updated and follow security best practices.",
      "examplesOfExploits": []
    },
    {
      "id": "metadata-api",
      "title": "Use Metadata API for SEO",
      "intent": "seo rule: Use the Metadata API (export metadata or generateMetadata) in App Router for SEO instead of Head component.",
      "scope": "project",
      "severity": "high",
      "enabled": true,
      "category": "seo",
      "detection": {
        "fileGlobs": [
          "package.json"
        ]
      },
      "recommendation": "Use the Metadata API (export metadata or generateMetadata) in App Router for SEO instead of Head component.",
      "codeExample": {
        "bad": "<Head><title>My Page</title></Head>",
        "good": "export const metadata = { title: 'My Page', description: '...' };"
      },
      "confidence": "high",
      "falsePositives": "low",
      "performanceImpact": "low",
      "easeOfRemediation": "medium",
      "detectionExplanation": "Detects use metadata api for seo patterns in code to ensure compliance.",
      "remediationExplanation": "Fix this by: Use the Metadata API (export metadata or generateMetadata) in App Router for SEO instead of Head component.",
      "references": [],
      "relatedVulnerabilities": [],
      "detectionLimitations": "May not catch all instances in complex or obfuscated code.",
      "additionalNotes": "Keep dependencies updated and follow security best practices.",
      "examplesOfExploits": []
    },
    {
      "id": "loading-ui",
      "title": "Provide Loading UI",
      "intent": "best-practices rule: Create loading.tsx files for route segments to show loading states during navigation.",
      "scope": "project",
      "severity": "medium",
      "enabled": true,
      "category": "best-practices",
      "detection": {
        "fileGlobs": [
          "package.json"
        ]
      },
      "recommendation": "Create loading.tsx files for route segments to show loading states during navigation.",
      "codeExample": {
        "bad": "// No loading state",
        "good": "// app/dashboard/loading.tsx: export default function Loading() { return <Spinner />; }"
      },
      "confidence": "medium",
      "falsePositives": "medium",
      "performanceImpact": "low",
      "easeOfRemediation": "medium",
      "detectionExplanation": "Detects provide loading ui patterns in code to ensure compliance.",
      "remediationExplanation": "Fix this by: Create loading.tsx files for route segments to show loading states during navigation.",
      "references": [],
      "relatedVulnerabilities": [],
      "detectionLimitations": "May not catch all instances in complex or obfuscated code.",
      "additionalNotes": "Keep dependencies updated and follow security best practices.",
      "examplesOfExploits": []
    },
    {
      "id": "error-boundaries",
      "title": "Use Error Boundaries",
      "intent": "best-practices rule: Create error.tsx files to handle errors gracefully and provide recovery options.",
      "scope": "project",
      "severity": "high",
      "enabled": true,
      "category": "best-practices",
      "detection": {
        "fileGlobs": [
          "package.json"
        ]
      },
      "recommendation": "Create error.tsx files to handle errors gracefully and provide recovery options.",
      "codeExample": {
        "bad": "// No error handling",
        "good": "// app/dashboard/error.tsx: 'use client'; export default function Error({ error, reset }) { /* ... */ }"
      },
      "confidence": "high",
      "falsePositives": "low",
      "performanceImpact": "low",
      "easeOfRemediation": "medium",
      "detectionExplanation": "Detects use error boundaries patterns in code to ensure compliance.",
      "remediationExplanation": "Fix this by: Create error.tsx files to handle errors gracefully and provide recovery options.",
      "references": [],
      "relatedVulnerabilities": [],
      "detectionLimitations": "May not catch all instances in complex or obfuscated code.",
      "additionalNotes": "Keep dependencies updated and follow security best practices.",
      "examplesOfExploits": []
    },
    {
      "id": "route-handlers",
      "title": "Use Route Handlers for APIs",
      "intent": "best-practices rule: Use Route Handlers (route.ts) in App Router instead of API routes in pages/api.",
      "scope": "project",
      "severity": "medium",
      "enabled": true,
      "category": "best-practices",
      "detection": {
        "fileGlobs": [
          "package.json"
        ]
      },
      "recommendation": "Use Route Handlers (route.ts) in App Router instead of API routes in pages/api.",
      "codeExample": {
        "bad": "// pages/api/users.ts",
        "good": "// app/api/users/route.ts: export async function GET(request) { /* ... */ }"
      },
      "confidence": "medium",
      "falsePositives": "medium",
      "performanceImpact": "low",
      "easeOfRemediation": "medium",
      "detectionExplanation": "Detects use route handlers for apis patterns in code to ensure compliance.",
      "remediationExplanation": "Fix this by: Use Route Handlers (route.ts) in App Router instead of API routes in pages/api.",
      "references": [],
      "relatedVulnerabilities": [],
      "detectionLimitations": "May not catch all instances in complex or obfuscated code.",
      "additionalNotes": "Keep dependencies updated and follow security best practices.",
      "examplesOfExploits": []
    },
    {
      "id": "streaming-suspense",
      "title": "Use Streaming with Suspense",
      "intent": "performance rule: Wrap slow components in Suspense to stream content and show loading states.",
      "scope": "project",
      "severity": "medium",
      "enabled": true,
      "category": "performance",
      "detection": {
        "fileGlobs": [
          "package.json"
        ]
      },
      "recommendation": "Wrap slow components in Suspense to stream content and show loading states.",
      "codeExample": {
        "bad": "const data = await slowFetch(); return <SlowComponent data={data} />;",
        "good": "<Suspense fallback={<Loading />}><SlowComponent /></Suspense>"
      },
      "confidence": "medium",
      "falsePositives": "medium",
      "performanceImpact": "low",
      "easeOfRemediation": "medium",
      "detectionExplanation": "Detects use streaming with suspense patterns in code to ensure compliance.",
      "remediationExplanation": "Fix this by: Wrap slow components in Suspense to stream content and show loading states.",
      "references": [],
      "relatedVulnerabilities": [],
      "detectionLimitations": "May not catch all instances in complex or obfuscated code.",
      "additionalNotes": "Keep dependencies updated and follow security best practices.",
      "examplesOfExploits": []
    },
    {
      "id": "parallel-data-fetching",
      "title": "Fetch Data in Parallel",
      "intent": "performance rule: Use Promise.all() to fetch data in parallel instead of sequential awaits.",
      "scope": "project",
      "severity": "medium",
      "enabled": true,
      "category": "performance",
      "detection": {
        "fileGlobs": [
          "package.json"
        ]
      },
      "recommendation": "Use Promise.all() to fetch data in parallel instead of sequential awaits.",
      "codeExample": {
        "bad": "const users = await getUsers(); const posts = await getPosts();",
        "good": "const [users, posts] = await Promise.all([getUsers(), getPosts()]);"
      },
      "confidence": "medium",
      "falsePositives": "medium",
      "performanceImpact": "low",
      "easeOfRemediation": "medium",
      "detectionExplanation": "Detects fetch data in parallel patterns in code to ensure compliance.",
      "remediationExplanation": "Fix this by: Use Promise.all() to fetch data in parallel instead of sequential awaits.",
      "references": [],
      "relatedVulnerabilities": [],
      "detectionLimitations": "May not catch all instances in complex or obfuscated code.",
      "additionalNotes": "Keep dependencies updated and follow security best practices.",
      "examplesOfExploits": []
    },
    {
      "id": "revalidate-data",
      "title": "Configure Revalidation",
      "intent": "performance rule: Set revalidate time for cached data or use on-demand revalidation with revalidatePath/revalidateTag.",
      "scope": "project",
      "severity": "medium",
      "enabled": true,
      "category": "performance",
      "detection": {
        "fileGlobs": [
          "package.json"
        ]
      },
      "recommendation": "Set revalidate time for cached data or use on-demand revalidation with revalidatePath/revalidateTag.",
      "codeExample": {
        "bad": "// No revalidation configured",
        "good": "export const revalidate = 3600; // Revalidate every hour"
      },
      "confidence": "medium",
      "falsePositives": "medium",
      "performanceImpact": "low",
      "easeOfRemediation": "medium",
      "detectionExplanation": "Detects configure revalidation patterns in code to ensure compliance.",
      "remediationExplanation": "Fix this by: Set revalidate time for cached data or use on-demand revalidation with revalidatePath/revalidateTag.",
      "references": [],
      "relatedVulnerabilities": [],
      "detectionLimitations": "May not catch all instances in complex or obfuscated code.",
      "additionalNotes": "Keep dependencies updated and follow security best practices.",
      "examplesOfExploits": []
    },
    {
      "id": "font-optimization",
      "title": "Use next/font for Font Optimization",
      "intent": "performance rule: Use next/font to automatically optimize and self-host fonts, eliminating external network requests.",
      "scope": "project",
      "severity": "medium",
      "enabled": true,
      "category": "performance",
      "detection": {
        "fileGlobs": [
          "package.json"
        ]
      },
      "recommendation": "Use next/font to automatically optimize and self-host fonts, eliminating external network requests.",
      "codeExample": {
        "bad": "<link href='https://fonts.googleapis.com/...' />",
        "good": "import { Inter } from 'next/font/google'; const inter = Inter({ subsets: ['latin'] });"
      },
      "confidence": "medium",
      "falsePositives": "medium",
      "performanceImpact": "low",
      "easeOfRemediation": "medium",
      "detectionExplanation": "Detects use next/font for font optimization patterns in code to ensure compliance.",
      "remediationExplanation": "Fix this by: Use next/font to automatically optimize and self-host fonts, eliminating external network requests.",
      "references": [],
      "relatedVulnerabilities": [],
      "detectionLimitations": "May not catch all instances in complex or obfuscated code.",
      "additionalNotes": "Keep dependencies updated and follow security best practices.",
      "examplesOfExploits": []
    },
    {
      "id": "not-found-page",
      "title": "Create Custom Not Found Pages",
      "intent": "best-practices rule: Create not-found.tsx files to show custom 404 pages for route segments.",
      "scope": "project",
      "severity": "low",
      "enabled": true,
      "category": "best-practices",
      "detection": {
        "fileGlobs": [
          "package.json"
        ]
      },
      "recommendation": "Create not-found.tsx files to show custom 404 pages for route segments.",
      "codeExample": {
        "bad": "// Using default 404",
        "good": "// app/not-found.tsx: export default function NotFound() { return <Custom404 />; }"
      },
      "confidence": "medium",
      "falsePositives": "high",
      "performanceImpact": "low",
      "easeOfRemediation": "high",
      "detectionExplanation": "Detects create custom not found pages patterns in code to ensure compliance.",
      "remediationExplanation": "Fix this by: Create not-found.tsx files to show custom 404 pages for route segments.",
      "references": [],
      "relatedVulnerabilities": [],
      "detectionLimitations": "May not catch all instances in complex or obfuscated code.",
      "additionalNotes": "Keep dependencies updated and follow security best practices.",
      "examplesOfExploits": []
    },
    {
      "id": "middleware-performance",
      "title": "Keep Middleware Lightweight",
      "intent": "performance rule: Keep middleware.ts fast and lightweight. It runs on every request. Avoid heavy computations.",
      "scope": "project",
      "severity": "medium",
      "enabled": true,
      "category": "performance",
      "detection": {
        "fileGlobs": [
          "package.json"
        ]
      },
      "recommendation": "Keep middleware.ts fast and lightweight. It runs on every request. Avoid heavy computations.",
      "codeExample": {
        "bad": "// Heavy database queries in middleware",
        "good": "// Quick checks only: authentication token validation"
      },
      "confidence": "medium",
      "falsePositives": "medium",
      "performanceImpact": "low",
      "easeOfRemediation": "medium",
      "detectionExplanation": "Detects keep middleware lightweight patterns in code to ensure compliance.",
      "remediationExplanation": "Fix this by: Keep middleware.ts fast and lightweight. It runs on every request. Avoid heavy computations.",
      "references": [],
      "relatedVulnerabilities": [],
      "detectionLimitations": "May not catch all instances in complex or obfuscated code.",
      "additionalNotes": "Keep dependencies updated and follow security best practices.",
      "examplesOfExploits": []
    },
    {
      "id": "static-exports",
      "title": "Use Static Exports When Possible",
      "intent": "performance rule: For static sites, use output: 'export' in next.config.js to generate static HTML.",
      "scope": "project",
      "severity": "low",
      "enabled": true,
      "category": "performance",
      "detection": {
        "fileGlobs": [
          "package.json"
        ]
      },
      "recommendation": "For static sites, use output: 'export' in next.config.js to generate static HTML.",
      "codeExample": {
        "bad": "// Dynamic server required for static content",
        "good": "// next.config.js: { output: 'export' }"
      },
      "confidence": "medium",
      "falsePositives": "high",
      "performanceImpact": "low",
      "easeOfRemediation": "high",
      "detectionExplanation": "Detects use static exports when possible patterns in code to ensure compliance.",
      "remediationExplanation": "Fix this by: For static sites, use output: 'export' in next.config.js to generate static HTML.",
      "references": [],
      "relatedVulnerabilities": [],
      "detectionLimitations": "May not catch all instances in complex or obfuscated code.",
      "additionalNotes": "Keep dependencies updated and follow security best practices.",
      "examplesOfExploits": []
    },
    {
      "id": "typescript-strict",
      "title": "Enable TypeScript Strict Mode",
      "intent": "best-practices rule: Enable strict mode in tsconfig.json for better type safety and fewer runtime errors.",
      "scope": "project",
      "severity": "medium",
      "enabled": true,
      "category": "best-practices",
      "detection": {
        "fileGlobs": [
          "package.json"
        ]
      },
      "recommendation": "Enable strict mode in tsconfig.json for better type safety and fewer runtime errors.",
      "codeExample": {
        "bad": "// tsconfig.json: { \"strict\": false }",
        "good": "// tsconfig.json: { \"strict\": true }"
      },
      "confidence": "medium",
      "falsePositives": "medium",
      "performanceImpact": "low",
      "easeOfRemediation": "medium",
      "detectionExplanation": "Detects enable typescript strict mode patterns in code to ensure compliance.",
      "remediationExplanation": "Fix this by: Enable strict mode in tsconfig.json for better type safety and fewer runtime errors.",
      "references": [],
      "relatedVulnerabilities": [],
      "detectionLimitations": "May not catch all instances in complex or obfuscated code.",
      "additionalNotes": "Keep dependencies updated and follow security best practices.",
      "examplesOfExploits": []
    },
    {
      "id": "meaningful-variable-names",
      "title": "Use Meaningful Variable Names",
      "intent": "best-practices rule: Use descriptive names for variables, functions, and components.",
      "scope": "project",
      "severity": "low",
      "enabled": true,
      "category": "best-practices",
      "detection": {
        "fileGlobs": [
          "package.json"
        ]
      },
      "recommendation": "Use descriptive names for variables, functions, and components.",
      "codeExample": {
        "bad": "const x = getData(); const a = x.filter(u => u.age > 18);",
        "good": "const users = getData(); const adults = users.filter(user => user.age > 18);"
      },
      "confidence": "medium",
      "falsePositives": "high",
      "performanceImpact": "low",
      "easeOfRemediation": "high",
      "detectionExplanation": "Detects use meaningful variable names patterns in code to ensure compliance.",
      "remediationExplanation": "Fix this by: Use descriptive names for variables, functions, and components.",
      "references": [],
      "relatedVulnerabilities": [],
      "detectionLimitations": "May not catch all instances in complex or obfuscated code.",
      "additionalNotes": "Keep dependencies updated and follow security best practices.",
      "examplesOfExploits": []
    }
  ]
}